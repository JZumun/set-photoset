;(function($){$.fn.setPhotoset=function(t){var e,h,r,s,a,l,n=$.extend({},{layout:0,pData:!0,childHeight:"height",childWidth:"width"},t),c=[],d=[];return $.each(this,function(){$(this).children().css("float","left");var t=layout||$(this).attr("data-layout")||"";for(h=0,e=0,r=0;r<t.length;r++){for(s=parseInt(t.charAt(r)),a=0;s>a;a++)0==a&&$(this).children().eq(h).css("clear","left"),h++;if(n.pData)for(a=0;s>a;a++)c[a]=parseInt($(this).children().eq(e+a).attr(n.childHeight))/parseInt($(this).children().eq(e+a).attr(n.childWidth));else for(a=0;s>a;a++)c[a]=parseInt($(this).children().eq(e+a).height())/parseInt($(this).children().eq(e+a).width());for(a=0;s>a;a++){if(0==a){for(i=0,l=0;s>l;l++)i+=c[0]/c[l];d[a]=100/i}else if(a==s-1){for(i=0,l=0;s-1>l;l++)i+=d[l];d[a]=100-i}else d[a]=d[0]*(c[0]/c[a]);$(this).children().eq(e+a).css("width",d[a]+"%")}e+=s}}),this};})(jQuery);
