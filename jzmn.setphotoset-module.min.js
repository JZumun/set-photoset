var jzmn=function(t){"use strict"
function e(t,e,r){function o(o){o.target&&"IMG"===o.target.nodeName&&(a-=1),0===a&&e.apply(t,r)}var n=t.querySelectorAll("img"),a=n.length
return Array.prototype.forEach.call(n,function(t,e){t.complete&&(a-=1)}),0===a?void e.apply(t,r):(t.addEventListener("load",o,!0),void t.addEventListener("error",o,!0))}function r(t,e,r){var o=Array.prototype.slice.call(t.querySelectorAll(e.childItem)),n=Array.isArray(e.layout)?e.layout:(e.layout||t.getAttribute("data-layout")||"").split("").map(function(t){return parseInt(t)}),a=n.length
n.reduce(function(n,s,l,i){var c=n+s,u=o.slice(n,c),h=u.length
t.classList.add("photoset-container"),t.classList.add("photoset-"+r)
var d=u.map(function(t,r){var o
return t.classList.add("photoset-item"),t.classList.remove("photoset-last-column"),t.classList.remove("photoset-last-row"),t.classList.remove("photoset-first-column"),0===r&&t.classList.add("photoset-first-column"),r===h-1&&t.classList.add("photoset-last-column"),l===a-1&&t.classList.add("photoset-last-row"),o=e.immediate?parseInt(t.getAttribute(e.childHeight))/parseInt(t.getAttribute(e.childWidth)):t.naturalHeight/t.naturalWidth,o!==o&&(o=1),o}),m=[],p=e.gutter
return u.forEach(function(t,e){var r=d[e]
0===e?m[e]=100/d.reduce(function(t,e){return t+r/e},0):e===h-1?m[e]=100-m.reduce(function(t,e){return t+e},0):m[e]=m[0]*(d[0]/r),t.setAttribute("style","width: "+m[e]+"%; "+(p?"width: calc("+m[e]/100+"*(100% - "+(h-1)+"*("+p+")))":""))}),c},0),e.callback&&e.callback(t)}function o(t,e){var r=document.querySelector("#jzmn-setphotoset-styles")
r||(r=document.createElement("style"),r.setAttribute("type","text/css"),r.setAttribute("id","jzmn-setphotoset-styles"),r.appendChild(document.createTextNode("")),document.head.appendChild(r),[".photoset-container:after {content:'';display:table;clear:both;}",".photoset-item { display:block;float:left;margin:0;height:auto;}",".photoset-last-column {margin-right:0 !important;}",".photoset-first-column {clear:left}",".photoset-last-row {margin-bottom:0 !important;}"].forEach(function(t){r.sheet.insertRule(t,r.sheet.cssRules.length)})),!n[e]&&t.gutter&&(n[e]=t.gutter,r.sheet.insertRule(".photoset-"+e+" .photoset-item {margin:calc("+t.gutter+");margin-left:0;margin-top:0;}",r.sheet.cssRules.length))}var n={}
return t.setPhotoset=function a(t,n,s){if(s=s||Math.floor(1e5*Math.random()+1).toString(),!t)throw new Error("[setPhotoset] Argument cannot be null.")
if(t.toString()===t)return a(document.querySelectorAll(t),n,s)
if(t.length)return Array.prototype.map.call(t,function(t,e){a(t,n,s)})
if(!t.nodeType)throw new Error("[setPhotoset] Argument is not an Element")
n=n||{}
var l={layout:0,immediate:!1,childItem:"img",childHeight:"height",childWidth:"width",gutter:0,callback:null,createSheet:!0}
return Object.keys(n).map(function(t){t in l&&(l[t]=n[t])}),l.gutter=l.gutter?l.gutter.toString()===l.gutter?l.gutter:l.gutter+"px":null,l.createSheet&&o(l,s),l.immediate?r(t,l,s):e(t,r,[t,l,s]),t},t.extendFn&&t.extendFn({setPhotoset:t.setPhotoset}),t}(jzmn||{})
