var jzmn=jzmn||{};jzmn.setPhotoset = function (t,e){if(!t)throw new Error("[setPhotoset] Element does not exist");e=e||{};var r={layout:0,pData:!1,childHeight:"height",childWidth:"width",gutter:0};for(var a in r)e.hasOwnProperty(a)&&(r[a]=e[a]);var o=t.length?t:[t];Array.prototype.forEach.call(o,function(t){var e,a,o,i,h,s=r.layout||t.getAttribute("data-layout")||"",l=t.children,d=0,n=0,f=[],c=[];for(a=0;a<s.length;a++){for(e=parseInt(s.charAt(a)),o=0;e>o;o++)l[n].classList.add("photoset-item"),o==e-1&&l[n].classList.add("photoset-last-column"),a==s.length-1&&l[n].classList.add("photoset-last-row"),n++;for(o=0;e>o;o++)f[o]=r.pData?parseInt(l[d+o].getAttribute(r.childHeight))/parseInt(l[d+o].getAttribute(r.childWidth)):l[d+o].naturalWidth?l[d+o].naturalHeight/l[d+o].naturalWidth:l[d+o].offsetHeight/l[d+o].offsetWidth;for(o=0;e>o;o++){if(0==o){for(i=0,h=0;e>h;h++)i+=f[0]/f[h];c[o]=100/i}else if(o==e-1){for(i=0,h=0;e-1>h;h++)i+=c[h];c[o]=100-i}else c[o]=c[0]*(f[0]/f[o]);l[d+o].setAttribute("style","width: "+c[o]+"%; "+(r.gutter?"width: calc("+c[o]/100+"*(100% - "+(e-1)+"*("+r.gutter+")))":""))}d+=e}})}