function setPhotoset(t,e){e=e||{};var r={layout:0,pData:!1,childHeight:"height",childWidth:"width"};for(var a in r)e.hasOwnProperty(a)&&(r[a]=e[a]);var l=document.querySelectorAll(t);return Array.prototype.forEach.call(l,function(t){var e,a,l,o=r.layout||t.getAttribute("data-layout")||"",i=t.children,h=0,f=0,c=[],n=[];for(a=0;a<o.length;a++){for(e=parseInt(o.charAt(a)),l=0;e>l;l++)i[f].style.float="left",0==l&&(i[f].style.clear="left"),f++;for(l=0;e>l;l++)c[l]=r.pData?parseInt(i[h+l].getAttribute(r.childHeight))/parseInt(i[h+l].getAttribute(r.childWidth)):i[h+l].offsetHeight/i[h+l].offsetWidth;for(l=0;e>l;l++){if(0==l){for(k=0,z=0;e>z;z++)k+=c[0]/c[z];n[l]=100/k}else if(l==e-1){for(k=0,z=0;e-1>z;z++)k+=n[z];n[l]=100-k}else n[l]=n[0]*(c[0]/c[l]);i[h+l].style.width=n[l]+"%"}h+=e}}),o}
